<!DOCTYPE html>
<html>
<head>
    <title>Staff Management</title>
</head>
<body>
    <h2>Staff Management</h2>

    <table border="1">
        <thead>
            <tr>
                <th>Staff ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Phone</th>
                <th>Email</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
        {% for staff in staff_list %}
            <tr>
                <td>{{ staff[0] }}</td> <!-- staff.id -->
                <td>{{ staff[1] }}</td> <!-- first_name -->
                <td>{{ staff[2] }}</td> <!-- last_name -->
                <td>{{ staff[3] }}</td> <!-- phone -->
                <td>{{ staff[4] }}</td> <!-- email -->
                <td>
                    <!-- JavaScript confirm prompt on form submit -->
                    <form method="POST" 
                          action="{{ url_for('staffreg_bp.delete_staff', staff_id=staff[0]) }}"
                          onsubmit="return confirm('Are you sure you want to delete this staff member?');">
                        <button type="submit">Delete</button>
                    </form>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <p><a href="{{ url_for('staffreg_bp.register_staff') }}">Register New Staff</a></p>
    <p><a href="{{ url_for('staffreg_bp.register_driver') }}">Register New Driver</a></p>
    <p><a href="{{ url_for('login_bp.admin_home') }}">Back to Admin Home</a></p>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul>
          {% for msg in messages %}
            <li>{{ msg }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
</body>
</html>
