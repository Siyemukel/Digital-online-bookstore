<!DOCTYPE html>
<html>
<head>
    <title>Edit Book</title>
</head>
<body>
    <h2>Edit Book (ID: {{ book[0] }})</h2>
    <form method="POST" enctype="multipart/form-data">
        <label>Title:</label>
        <input type="text" name="title" value="{{ book[1] }}" required><br><br>

        <label>Author:</label>
        <input type="text" name="author" value="{{ book[2] }}" required><br><br>

        <label>Description:</label>
        <textarea name="description">{{ book[3] }}</textarea><br><br>

        <label>Category:</label>
        <input type="text" name="category" value="{{ book[4] }}"><br><br>

        <label>Price:</label>
        <input type="number" step="0.01" name="price" value="{{ book[5] }}" required><br><br>

        <!-- Condition dropdown -->
        <label>Condition:</label>
        <select name="condition">
            <option value="New" {% if book[9] == 'New' %}selected{% endif %}>New</option>
            <option value="Like New" {% if book[9] == 'Like New' %}selected{% endif %}>Like New</option>
            <option value="Used" {% if book[9] == 'Used' %}selected{% endif %}>Used</option>
            <option value="Damaged" {% if book[9] == 'Damaged' %}selected{% endif %}>Damaged</option>
        </select><br><br>

        <!-- Quantity -->
        <label>Quantity:</label>
        <input type="number" name="quantity" value="{{ book[10] }}" min="0" required><br><br>

        <label>Cover Image (optional to update):</label>
        <input type="file" name="cover_image" accept="image/*"><br><br>

        <p><strong>Note:</strong> PDF cannot be updated once added.</p>

        <button type="submit">Update Book</button>
    </form>

    <p><a href="{{ url_for('book_bp.manage_books') }}">Back to Manage Books</a></p>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul>
          {% for msg in messages %}
            <li>{{ msg }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
</body>
</html>
